PUBLISHING_OFFICES_NATIONWIDE = ['JPSA', 'JPSC', 'JPSP', 'JPSE', 'JPSF', 'JPSB', 'JPSD', 'JPSJ', 'JPDA', 'JPDB', 'JPDC', 'JPSN', 'JPDD', 'JPDE',
'JPTK', 'JPTA', 'JPTB', 'JPTC', 'JPTD', 'JPTE', 'JPTF', 'JPTG', 'JPTH', 'JPNI', 'JPNA', 'JPNB', 'JPNC', 'JPGY', 'JPGA', 'JPGB', 'JPGC',
'JPOS', 'JPOA', 'JPOB', 'JPOC', 'JPOD', 'JPOE', 'JPHR', 'JPHA', 'JPHB', 'JPHC', 'JPFA', 'JPMT', 'JPMA', 'JPMB', 'JPMC',
'JPFK', 'JPFB', 'JPFC', 'JPFD', 'JPFE', 'JPKG', 'JPKA', 'JPKC', 'JPOK', 'JPWA', 'JPWB', 'JPWC'];
PUBLISHING_OFFICES_HOKKAIDO_HOKUSEIBU = ['JPSA', 'JPSC'];
PUBLISHING_OFFICES_HOKKAIDO_NANSEIBU = ['JPSP', 'JPSE', 'JPSF'];
PUBLISHING_OFFICES_HOKKAIDO_TOBU = ['JPSB', 'JPSD'];
PUBLISHING_OFFICES_TOHOKU_HOKUBU = ['JPDA', 'JPDB', 'JPDC'];
PUBLISHING_OFFICES_TOHOKU_NANBU = ['JPSN', 'JPDD', 'JPDE'];
PUBLISHING_OFFICES_KANTO = ['JPTK', 'JPTA', 'JPTB', 'JPTC', 'JPTD', 'JPTE', 'JPTF'];
PUBLISHING_OFFICES_KOSHIN = ['JPTG', 'JPTH'];
PUBLISHING_OFFICES_HOKURIKU_TOBU = ['JPNI'];
PUBLISHING_OFFICES_HOKURIKU_SEIBU = ['JPNA', 'JPNB', 'JPNC'];
PUBLISHING_OFFICES_TOKAI = ['JPGY', 'JPGA', 'JPGB', 'JPGC'];
PUBLISHING_OFFICES_KINKI = ['JPOS', 'JPOA', 'JPOB', 'JPOC', 'JPOD', 'JPOE'];
PUBLISHING_OFFICES_CHUGOKU = ['JPHR', 'JPHA', 'JPHB', 'JPHC', 'JPFA'];
PUBLISHING_OFFICES_SHIKOKU = ['JPMT', 'JPMA', 'JPMB', 'JPMC'];
PUBLISHING_OFFICES_KYUSYU_HOKUBU = ['JPFK', 'JPFB', 'JPFC', 'JPFD', 'JPFE'];
PUBLISHING_OFFICES_KYUSYU_NANBU = ['JPKG', 'JPKA'];
PUBLISHING_OFFICES_AMAMI = ['JPKG'];
PUBLISHING_OFFICES_OKINAWA_DAITOJIMA = ['JPOK', 'JPWA'];
PUBLISHING_OFFICES_MIYAKO_YAEYAMA = ['JPWB', 'JPWC'];

//譛ｬ譚･縺ｮ蝨ｰ譁ｹ縺ｫ蜉�縺医※縺昴�蜻ｨ霎ｺ縺ｮ逕ｻ蜒上↓蜷ｫ縺ｾ繧後※縺�ｋ蝨ｰ蝓溘�繝輔ぃ繧､繝ｫ繧ょ叙蠕�
PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_HOKUSEIBU = ['JPSA', 'JPSC', 'JPSP', 'JPSE', 'JPSF', 'JPSB', 'JPSD', 'JPSJ'];
PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_NANSEIBU = ['JPSA', 'JPSC', 'JPSP', 'JPSE', 'JPSF', 'JPSB', 'JPSD', 'JPSJ', 'JPDA'];
PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_TOBU = ['JPSA', 'JPSC', 'JPSP', 'JPSE', 'JPSF', 'JPSB', 'JPSD', 'JPSJ'];
PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_HOKUSEIBU_FORECAST = ['JPSA', 'JPSC', 'JPSP', 'JPSE', 'JPSF', 'JPSB', 'JPSD'];
PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_NANSEIBU_FORECAST = ['JPSA', 'JPSC', 'JPSP', 'JPSE', 'JPSF', 'JPSB', 'JPSD', 'JPDA'];
PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_TOBU_FORECAST = ['JPSA', 'JPSC', 'JPSP', 'JPSE', 'JPSF', 'JPSB', 'JPSD'];
PUBLISHING_OFFICES_EXPANTION_TOHOKU_HOKUBU = ['JPDA', 'JPDB', 'JPDC', 'JPSN', 'JPDD', 'JPSF'];
PUBLISHING_OFFICES_EXPANTION_TOHOKU_NANBU = ['JPDB', 'JPDC', 'JPSN', 'JPDD', 'JPDE', 'JPTA', 'JPTB', 'JPTD', 'JPNI', 'JPTG', 'JPNA', 'JPNB'];
PUBLISHING_OFFICES_EXPANTION_KANTO = ['JPTK', 'JPTA', 'JPTB', 'JPTC', 'JPTD', 'JPTE', 'JPTF', 'JPDE', 'JPTG', 'JPTH', 'JPNI', 'JPNA', 'JPGY', 'JPGA', 'JPGB'];
PUBLISHING_OFFICES_EXPANTION_KOSHIN = ['JPTK', 'JPTA', 'JPTB', 'JPTC', 'JPTD', 'JPTE', 'JPTF', 'JPDE', 'JPTG', 'JPTH', 'JPNI', 'JPNA', 'JPNB', 'JPNC', 'JPGY', 'JPGA', 'JPGB', 'JPGC', 'JPOS', 'JPOA', 'JPOB', 'JPOC', 'JPOD'];
PUBLISHING_OFFICES_EXPANTION_HOKURIKU_TOBU = ['JPNI', 'JPSN', 'JPDD', 'JPDE', 'JPTA', 'JPTB', 'JPTD', 'JPNA', 'JPNB', 'JPTG', 'JPGB'];
PUBLISHING_OFFICES_EXPANTION_HOKURIKU_SEIBU = ['JPNA', 'JPNB', 'JPNC', 'JPDE', 'JPTK', 'JPTA', 'JPTB', 'JPTC', 'JPTF', 'JPNI', 'JPTG', 'JPTH', 'JPGY', 'JPGA', 'JPGB', 'JPGC', 'JPOA', 'JPOB', 'JPOD', 'JPHA', 'JPHC'];
PUBLISHING_OFFICES_EXPANTION_TOKAI = ['JPGY', 'JPGA', 'JPGB', 'JPGC', 'JPTK', 'JPTA', 'JPTB', 'JPTC', 'JPTF', 'JPTG', 'JPTH', 'JPNA', 'JPNB', 'JPNC', 'JPOS', 'JPOA', 'JPOB', 'JPOC', 'JPOD', 'JPOE', 'JPHA', 'JPHC', 'JPMT', 'JPMA', 'JPMB', 'JPMC'];
PUBLISHING_OFFICES_EXPANTION_KINKI = ['JPOS', 'JPOA', 'JPOB', 'JPOC', 'JPOD', 'JPOE', 'JPGY', 'JPGA', 'JPGB', 'JPGC', 'JPTG', 'JPNC', 'JPHR', 'JPHA', 'JPHB', 'JPHC', 'JPMT', 'JPMA', 'JPMB', 'JPMC'];
PUBLISHING_OFFICES_EXPANTION_CHUGOKU = ['JPHR', 'JPHA', 'JPHB', 'JPHC', 'JPFA', 'JPNC', 'JPOS', 'JPOA', 'JPOB', 'JPOC', 'JPOD', 'JPOE', 'JPMT', 'JPMA', 'JPMB', 'JPMC', 'JPFK', 'JPFB'];
PUBLISHING_OFFICES_EXPANTION_SHIKOKU = ['JPMT', 'JPMA', 'JPMB', 'JPMC', 'JPOS', 'JPOA', 'JPOB', 'JPOC', 'JPOE', 'JPHR', 'JPHB', 'JPHC', 'JPFA', 'JPFK', 'JPFB', 'JPFD', 'JPKA'];
PUBLISHING_OFFICES_EXPANTION_KYUSYU_HOKUBU = ['JPFK', 'JPFB', 'JPFC', 'JPFD', 'JPFE', 'JPHR', 'JPHB', 'JPHC', 'JPFA', 'JPMA', 'JPMC', 'JPKG', 'JPKA'];
PUBLISHING_OFFICES_EXPANTION_KYUSYU_NANBU = ['JPFK', 'JPKG', 'JPKA', 'JPMA', 'JPMC', 'JPFB', 'JPFC', 'JPFD', 'JPFE', 'JPKC'];
PUBLISHING_OFFICES_EXPANTION_KYUSYU_NANBU_FORECAST = ['JPFK', 'JPKG', 'JPKA', 'JPMA', 'JPMC', 'JPFB', 'JPFC', 'JPFD', 'JPFE'];
PUBLISHING_OFFICES_EXPANTION_AMAMI = ['JPKG', 'JPKC'];
PUBLISHING_OFFICES_EXPANTION_AMAMI_FORECAST = ['JPKG'];
PUBLISHING_OFFICES_EXPANTION_OKINAWA_DAITOJIMA = ['JPOK', 'JPWA', 'JPKG', 'JPKC'];
PUBLISHING_OFFICES_EXPANTION_OKINAWA_DAITOJIMA_FORECAST = ['JPOK', 'JPWA', 'JPKG'];
PUBLISHING_OFFICES_EXPANTION_MIYAKO_YAEYAMA = ['JPWB', 'JPWC'];

BROWSER_IE = 'IE';
BROWSER_EDGE = 'edge';
BROWSER_CHROME = 'chrome';
BROWSER_SAFARI = 'safari';
BROWSER_FIREFOX = 'firefox';
BROWSER_OPERA = 'opera';
BROWSER_OTHER = 'other';

ID_REGION_HOKKAIDO_HOKUSEIBU = 'imagemaphokkaido02';
ID_REGION_HOKKAIDO_NANSEIBU = 'imagemaphokkaido03';
ID_REGION_HOKKAIDO_TOBU = 'imagemaphokkaido01';
ID_REGION_TOHOKU_HOKUBU = 'imagemaptohoku01';
ID_REGION_TOHOKU_NANBU = 'imagemaptohoku02';
ID_REGION_KANTO = 'imagemapkanto';
ID_REGION_KOSHIN = 'imagemapkoshin';
ID_REGION_HOKURIKU_TOBU = 'imagemaphokuriku01';
ID_REGION_HOKURIKU_SEIBU = 'imagemaphokuriku02';
ID_REGION_TOKAI = 'imagemaptokai';
ID_REGION_KINKI = 'imagemapkinki';
ID_REGION_CHUGOKU = 'imagemapchugoku';
ID_REGION_SHIKOKU = 'imagemapshikoku';
ID_REGION_KYUSYU_HOKUBU = 'imagemapkyusyu01';
ID_REGION_KYUSYU_NANBU = 'imagemapkyusyu02';
ID_REGION_AMAMI = 'imagemapamami';
ID_REGION_OKINAWA_DAITO = 'imagemapokinawa';
ID_REGION_MIYAKO_YAEYAMA = 'imagemapishigaki';
ID_REGION_OGASAWARA = 'imagemapogasawara';
ID_REGIONS = [ID_REGION_HOKKAIDO_HOKUSEIBU, ID_REGION_HOKKAIDO_NANSEIBU, ID_REGION_HOKKAIDO_TOBU, ID_REGION_TOHOKU_HOKUBU, ID_REGION_TOHOKU_NANBU,
ID_REGION_KANTO, ID_REGION_KOSHIN, ID_REGION_HOKURIKU_TOBU, ID_REGION_HOKURIKU_SEIBU, ID_REGION_TOKAI, ID_REGION_KINKI, ID_REGION_CHUGOKU, ID_REGION_SHIKOKU,
ID_REGION_KYUSYU_HOKUBU, ID_REGION_KYUSYU_NANBU, ID_REGION_AMAMI, ID_REGION_OKINAWA_DAITO, ID_REGION_MIYAKO_YAEYAMA, ID_REGION_OGASAWARA];

LANG_JP = 'jp';
LANG_EN = 'en';
LANG_CN_ZS = 'cn_zs';
LANG_CN_ZT = 'cn_zt';
LANG_KR = 'kr';
LANG_ES = 'es';
LANG_PT = 'pt';
LANG_ID = 'id';
LANG_VN = 'vn';
LANG_PH = 'ph';
LANG_TH = 'th';
LANG_NP = 'np';
LANG_KH = 'kh';
LANG_MM = 'mm';
LANG_MN = 'mn';
LANGS = [LANG_JP, LANG_EN, LANG_CN_ZS, LANG_CN_ZT, LANG_KR, LANG_ES, LANG_PT, LANG_ID, LANG_VN, LANG_PH, LANG_TH, LANG_NP, LANG_KH, LANG_MM, LANG_MN];

function convertDate(datetime, lang) {
  const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
  const date = new Date(replaceDate(datetime));
  const year = date.getFullYear();
  const month = date.getMonth();
  const month0 = ('0' + (month + 1)).slice(-2);
  const dateOfMonth = date.getDate();
  const date0 = ('0' + dateOfMonth).slice(-2);
  const hour = date.getHours();
  const hour0 = ('0' + hour).slice(-2);
  const minute = date.getMinutes();
  const minute0 = ('0' + minute).slice(-2);

  return year + '/' + month0 + '/' + date0 + ' ' + hour0 + ':' + minute0;
}

function setReportDateTime(id, reportDateTime, dictionary) {
  document.getElementById(id).innerText = convertDateForReportDateTime(reportDateTime, dictionary.issuedOnYyyyMmDdHhMm);
}

function setReportDateTimeVolcano(id, reportDateTime, dictionary) {
  document.getElementById(id).innerText = convertDateForReportDateTime(reportDateTime, dictionary.asOfYyyyMmDdHhMm);
}

function convertDateForReportDateTime(datetime, format) {
  if (datetime == '') {
    return '';
  }
  var base = format;
  const date = new Date(datetime);
  const year = date.getFullYear();
  const month = date.getMonth();
  const month0 = ('0' + (month + 1)).slice(-2);
  const dateOfMonth = date.getDate();
  const date0 = ('0' + dateOfMonth).slice(-2);
  const hour = date.getHours();
  const hour0 = ('0' + hour).slice(-2);
  const minute = date.getMinutes();
  const minute0 = ('0' + minute).slice(-2);

  base = base.replace('yyyy', year);
  base = base.replace('MM', month0);
  base = base.replace('dd', date0);
  base = base.replace('HH', hour0);
  base = base.replace('mm', minute0);

  return base;
}

function replaceDate(dateStr) {
  const regexp = /^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9])(?:( [0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$/;
  return dateStr.replace(regexp, function (match, year, month, day, hour, minutes, seconds) {
    return "".concat(year, "-").concat(month, "-").concat(day, "T").concat(hour, ":").concat(minutes, ":").concat(seconds, ".000+09:00");
  });
}

function convertDay(date, dictionary) {
  switch(date.getDay()) {
    case 0:
      return dictionary.sunday;
    case 1:
      return dictionary.monday;
    case 2:
      return dictionary.tuesday;
    case 3:
      return dictionary.wednesday;
    case 4:
      return dictionary.thursday;
    case 5:
      return dictionary.friday;
    case 6:
      return dictionary.saturday;
    default:
      return '';
  }
}

function loadLanguage() {
  //繝代Λ繝｡繝ｼ繧ｿ縺梧怙蜆ｪ蜈�
  var lang = getParam("lang");
  if (lang == null || lang == undefined || !(isValidLanguage(lang))) {
    lang = 'en';
  }

  return lang;
}

function isValidLanguage(lang) {
  return LANGS.indexOf(lang) >= 0;
}

function getParam(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

function zeroPadding(num,length){
    return ('0000000000' + num).slice(-length);
}

function parseCurrentName() {
  const pathname = location.pathname;
  const tmp = pathname.split('/');
  const current = tmp[tmp.length - 1];

  return current.replace(/.html/g, '');
}

function findPublishingOffices(name, isForecast) {
  switch(name) {
    case 'hokkaido_hokuseibu':
      if (isForecast) {
        return PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_HOKUSEIBU_FORECAST;
      }
      return PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_HOKUSEIBU;
    case 'hokkaido_nanseibu':
      if (isForecast) {
        return PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_NANSEIBU_FORECAST;
      }
      return PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_NANSEIBU;
    case 'hokkaido_tobu':
      if (isForecast) {
        return PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_TOBU_FORECAST;
      }
      return PUBLISHING_OFFICES_EXPANTION_HOKKAIDO_TOBU;
    case 'tohoku_hokubu':
      return PUBLISHING_OFFICES_EXPANTION_TOHOKU_HOKUBU;
    case 'tohoku_nanbu':
      return PUBLISHING_OFFICES_EXPANTION_TOHOKU_NANBU;
    case 'kanto':
      return PUBLISHING_OFFICES_EXPANTION_KANTO;
    case 'koshin':
      return PUBLISHING_OFFICES_EXPANTION_KOSHIN;
    case 'hokuriku_tobu':
      return PUBLISHING_OFFICES_EXPANTION_HOKURIKU_TOBU;
    case 'hokuriku_seibu':
      return PUBLISHING_OFFICES_EXPANTION_HOKURIKU_SEIBU;
    case 'tokai':
      return PUBLISHING_OFFICES_EXPANTION_TOKAI;
    case 'kinki':
      return PUBLISHING_OFFICES_EXPANTION_KINKI;
    case 'cyugoku':
      return PUBLISHING_OFFICES_EXPANTION_CHUGOKU;
    case 'shikoku':
      return PUBLISHING_OFFICES_EXPANTION_SHIKOKU;
    case 'kyusyu_hokubu':
      return PUBLISHING_OFFICES_EXPANTION_KYUSYU_HOKUBU;
    case 'kyusyu_nanbu':
      if (isForecast) {
        return PUBLISHING_OFFICES_EXPANTION_KYUSYU_NANBU_FORECAST;
      }
      return PUBLISHING_OFFICES_EXPANTION_KYUSYU_NANBU;
    case 'amami':
      if (isForecast) {
        return PUBLISHING_OFFICES_EXPANTION_AMAMI_FORECAST;
      }
      return PUBLISHING_OFFICES_EXPANTION_AMAMI;
    case 'okinawa':
      if (isForecast) {
        return PUBLISHING_OFFICES_EXPANTION_OKINAWA_DAITOJIMA_FORECAST;
      }
      return PUBLISHING_OFFICES_EXPANTION_OKINAWA_DAITOJIMA;
    case 'okinawa_daito':
      return PUBLISHING_OFFICES_EXPANTION_OKINAWA_DAITOJIMA;
    case 'miyako_yaeyama':
      return PUBLISHING_OFFICES_EXPANTION_MIYAKO_YAEYAMA;
    //縺薙％縺九ｉ驛ｽ驕灘ｺ懃恁
    default:
      return [];
  }
}

function findPublishingOffice(code, isIncludedPrefecture) {
  const prefId = code.substring(0, 2);
  //蛹玲ｵｷ驕薙�豐也ｸ�ｻ･螟�
  switch(prefId) {
    //髱呈｣ｮ逵�
    case '02':
      return 'JPDA';
    //蟯ｩ謇狗恁
    case '03':
      return 'JPDC';
    //螳ｮ蝓守恁
    case '04':
      return 'JPSN';
    //遘狗伐逵�
    case '05':
      return 'JPDB';
    //螻ｱ蠖｢逵�
    case '06':
      return 'JPDD';
    //遖丞ｳｶ逵�
    case '07':
      return 'JPDE';
    //闌ｨ蝓守恁
    case '08':
      return 'JPTD';
    //譬�惠逵�
    case '09':
      return 'JPTA';
    //鄒､鬥ｬ逵�
    case '10':
      return 'JPTB';
    //蝓ｼ邇臥恁
    case '11':
      return 'JPTC';
    //蜊�痩逵�
    case '12':
      return 'JPTE';
    //譚ｱ莠ｬ驛ｽ�亥ｰ冗ｬ�蜴溘ｂ蜷後§繝輔ぃ繧､繝ｫ��
    case '13':
      return 'JPTK';
    //逾槫･亥ｷ晉恁
    case '14':
      return 'JPTF';
    //譁ｰ貎溽恁
    case '15':
      return 'JPNI';
    //蟇悟ｱｱ逵�
    case '16':
      return 'JPNA';
    //遏ｳ蟾晉恁
    case '17':
      return 'JPNB';
    //遖丈ｺ慕恁
    case '18':
      return 'JPNC';
    //螻ｱ譴ｨ逵�
    case '19':
      return 'JPTH';
    //髟ｷ驥守恁
    case '20':
      return 'JPTG';
    //蟯宣�逵�
    case '21':
      return 'JPGB';
    //髱吝ｲ｡逵�
    case '22':
      return 'JPGA';
    //諢帷衍逵�
    case '23':
      return 'JPGY';
    //荳蛾㍾逵�
    case '24':
      return 'JPGC';
    //貊玖ｳ逵�
    case '25':
      return 'JPOD';
    //莠ｬ驛ｽ蠎�
    case '26':
      return 'JPOA';
    //螟ｧ髦ｪ蠎�
    case '27':
      return 'JPOS';
    //蜈ｵ蠎ｫ逵�
    case '28':
      return 'JPOB';
    //螂郁憶逵�
    case '29':
      return 'JPOC';
    //蜥梧ｭ悟ｱｱ逵�
    case '30':
      return 'JPOE';
    //魑･蜿也恁
    case '31':
      return 'JPHA';
    //蟲ｶ譬ｹ逵�
    case '32':
      return 'JPHB';
    //蟯｡螻ｱ逵�
    case '33':
      return 'JPHC';
    //蠎�ｳｶ逵�
    case '34':
      return 'JPHR';
    //螻ｱ蜿｣逵�
    case '35':
      return 'JPFA';
    //蠕ｳ蟲ｶ逵�
    case '36':
      return 'JPMB';
    //鬥吝ｷ晉恁
    case '37':
      return 'JPMT';
    //諢帛ｪ帷恁
    case '38':
      return 'JPMA';
    //鬮倡衍逵�
    case '39':
      return 'JPMC';
    //遖丞ｲ｡逵�
    case '40':
      return 'JPFK';
    //菴占ｳ逵�
    case '41':
      return 'JPFC';
    //髟ｷ蟠守恁
    case '42':
      return 'JPFE';
    //辭頑悽逵�
    case '43':
      return 'JPFD';
    //螟ｧ蛻�恁
    case '44':
      return 'JPFB';
    //螳ｮ蟠守恁
    case '45':
      return 'JPKA';
    //鮖ｿ蜈仙ｳｶ逵鯉ｼ亥･�ｾ主性繧��
    case '46':
      if (isIncludedPrefecture) {
        if (code == '460040') {
          return 'JPKC';
        }
        else {
          return 'JPKG';
        }
      }
      else {
        return 'JPKG';
      }
  }

  const areaId = code.substring(0, 3);
  //蛹玲ｵｷ驕薙�豐也ｸ�
  switch(areaId) {
    case '011':
      return 'JPSA';
    case '012':
      return 'JPSC';
    case '013':
      return 'JPSB';
    case '014':
      if(isIncludedPrefecture) {
        //蜊∝享
        if (code == '014030') {
          return 'JPSJ';
        }
      }
      return 'JPSD';
    case '015':
      return 'JPSE';
    case '016':
      return 'JPSP';
    case '017':
      return 'JPSF';
    case '471':
      return 'JPOK';
    case '472':
      return 'JPWA';
    case '473':
      return 'JPWB';
    case '474':
      return 'JPWC';
  }
}

function convertPrefectureForecastDistrictCode2RegionName(code, isIncludedPrefecture) {
  switch(code) {
    case '011000':
    case '012010':
    case '012020':
      return 'hokkaido_hokuseibu';
    case '015010':
    case '015020':
    case '016010':
    case '016020':
    case '016030':
    case '017010':
    case '017020':
      return 'hokkaido_nanseibu';
    case '013000':
    case '014010':
    case '014020':
    case '014030':
      return 'hokkaido_tobu';
    case '020000':
    case '030000':
    case '050000':
      return 'tohoku_hokubu';
    case '040000':
    case '060000':
    case '070000':
      return 'tohoku_nanbu';
    case '080000':
    case '090000':
    case '100000':
    case '110000':
    case '120000':
    case '130000':
    case '140000':
      return 'kanto';
    case '190000':
    case '200000':
      return 'koshin';
    case '150000':
      return 'hokuriku_tobu';
    case '160000':
    case '170000':
    case '180000':
      return 'hokuriku_seibu';
    case '210000':
    case '220000':
    case '230000':
    case '240000':
      return 'tokai';
    case '250000':
    case '260000':
    case '270000':
    case '280000':
    case '290000':
    case '300000':
      return 'kinki';
    case '310000':
    case '320000':
    case '330000':
    case '340000':
    case '350000':
      return 'cyugoku';
    case '360000':
    case '370000':
    case '380000':
    case '390000':
      return 'shikoku';
    case '400000':
    case '410000':
    case '420000':
    case '430000':
    case '440000':
      return 'kyusyu_hokubu';
    case '450000':
    //螂�ｾ主慍譁ｹ繧帝勁縺�
    case '460100':
      return 'kyusyu_nanbu';
    case '460040':
      return 'amami';
    case '471000':
    case '472000':
      if (isIncludedPrefecture) {
        return 'okinawa_daito';
      }
      return 'okinawa';
    case '473000':
    case '474000':
      return 'miyako_yaeyama';
    default:
      return '';
  }
}

function transition(link) {
  const browser = judgeBrowser();
  if (browser == BROWSER_SAFARI) {
    //location.href = 縺�縺ｨsafari縺ｧimages繝�ぅ繝ｬ繧ｯ繝医Μ縺ｫ鬟帙ｓ縺ｧ陦後▲縺�
    var a = document.createElement('a');
    a.href = link;
    a.click();
  }
  else {
    top.location.href = link;
  }
}

function judgeBrowser() {
  const userAgent = window.navigator.userAgent.toLowerCase();
  if(userAgent.indexOf('msie') != -1 ||
          userAgent.indexOf('trident') != -1) {
      return BROWSER_IE;
  } else if(userAgent.indexOf('edge') != -1) {
      return BROWSER_EDGE;
  } else if(userAgent.indexOf('chrome') != -1) {
      return BROWSER_CHROME;
  } else if(userAgent.indexOf('safari') != -1) {
      return BROWSER_SAFARI;
  } else if(userAgent.indexOf('firefox') != -1) {
      return BROWSER_FIREFOX;
  } else if(userAgent.indexOf('opera') != -1) {
      return BROWSER_OPERA;
  } else {
      return BROWSER_OTHER;
  }
}

//IE縺ｧfind繧剃ｽｿ縺医ｋ繧医≧縺ｫ
if (!Array.prototype.find) {
  Array.prototype.find = function(predicate) {
    if (this === null) {
      throw new TypeError('Array.prototype.find called on null or undefined');
    }
    if (typeof predicate !== 'function') {
      throw new TypeError('predicate must be a function');
    }
    var list = Object(this);
    var length = list.length >>> 0;
    var thisArg = arguments[1];
    var value;

    for (var i = 0; i < length; i++) {
      value = list[i];
      if (predicate.call(thisArg, value, i, list)) {
        return value;
      }
    }
    return undefined;
  };
}

function getDictionary(lang) {
  var dictionary = null;
  $.ajaxSetup({async: false});
  $.getJSON('../data/dictionary/' + lang + '.json', function(json) {
    dictionary = json;
  });
  $.ajaxSetup({async: true});

  return dictionary;
}



function convertSvgId2RegionName(id, isIncludedPrefecture) {
  switch(id) {
    case ID_REGION_HOKKAIDO_HOKUSEIBU:
      return 'hokkaido_hokuseibu';
    case ID_REGION_HOKKAIDO_NANSEIBU:
      return 'hokkaido_nanseibu';
    case ID_REGION_HOKKAIDO_TOBU:
      return 'hokkaido_tobu';
    case ID_REGION_TOHOKU_HOKUBU:
      return 'tohoku_hokubu';
    case ID_REGION_TOHOKU_NANBU:
      return 'tohoku_nanbu';
    case ID_REGION_KANTO:
    case ID_REGION_OGASAWARA:
      return 'kanto';
    case ID_REGION_KOSHIN:
      return 'koshin';
    case ID_REGION_HOKURIKU_TOBU:
      return 'hokuriku_tobu';
    case ID_REGION_HOKURIKU_SEIBU:
      return 'hokuriku_seibu';
    case ID_REGION_TOKAI:
      return 'tokai';
    case ID_REGION_KINKI:
      return 'kinki';
    case ID_REGION_CHUGOKU:
      return 'cyugoku';
    case ID_REGION_SHIKOKU:
      return 'shikoku';
    case ID_REGION_KYUSYU_HOKUBU:
      return 'kyusyu_hokubu';
    case ID_REGION_KYUSYU_NANBU:
      return 'kyusyu_nanbu';
    case ID_REGION_AMAMI:
      return 'amami';
    case ID_REGION_OKINAWA_DAITO:
      if (isIncludedPrefecture) {
        return 'okinawa_daito';
      }
      return 'okinawa';
    case ID_REGION_MIYAKO_YAEYAMA:
      return 'miyako_yaeyama';
    default:
      return '';
  }
}

function setArrowsAlt(lang) {
  const dictionary = getDictionary(lang);
  const ups = document.getElementsByClassName("img_up_arrow");
  const downs = document.getElementsByClassName("img_down_arrow");
  const lefts = document.getElementsByClassName("img_left_arrow");
  const rights = document.getElementsByClassName("img_right_arrow");
  for(var i = 0;  i < ups.length;  i++) {
    ups[i].setAttribute('alt', dictionary.panUp);
  }
  for(var i = 0;  i < downs.length;  i++) {
    downs[i].setAttribute('alt', dictionary.panDown);
  }
  for(var i = 0;  i < lefts.length;  i++) {
    lefts[i].setAttribute('alt', dictionary.panLeft);
  }
  for(var i = 0;  i < rights.length;  i++) {
    rights[i].setAttribute('alt', dictionary.panRight);
  }
}

function calcDiff(date1, date2) {
  var diff = 0;
  let tmpDate1 = null;
  let tmpDate2 = null;
  let sign = 1;
  if (date1.getTime() >= date2.getTime()) {
    tmpDate1 = new Date(date1.getTime());
    tmpDate2 = new Date(date2.getTime());
    sign = 1;
  }
  else {
    tmpDate1 = new Date(date2.getTime());
    tmpDate2 = new Date(date1.getTime());
    sign = -1;
  }
  while(tmpDate1.getDate() != tmpDate2.getDate()) {
    tmpDate2.setDate(tmpDate2.getDate() + 1);
    diff++;
  }

  return diff * sign;
}

function getLanguage(lang){
  var language;
  switch(lang){
    case 'jp'    : language = 'japanese'   ; break ;
    case 'en'    : language = 'english'    ; break ;
    case 'cn_zs' : language = 'chinese_zs' ; break ;
    case 'cn_zt' : language = 'chinese_zt' ; break ;
    case 'pt'    : language = 'portuguese' ; break ;
    case 'es'    : language = 'spanish'    ; break ;
    case 'vn'    : language = 'vietnamese' ; break ;
    case 'th'    : language = 'thai'       ; break ;
    case 'id'    : language = 'indonesian' ; break ;
    case 'ph'    : language = 'tagalog'    ; break ;
    case 'np'    : language = 'nepali'     ; break ;
    case 'kh'    : language = 'khmer'      ; break ;
    case 'mm'    : language = 'burmese'    ; break ;
    case 'mn'    : language = 'mongolian'  ; break ;
    case 'kr'    : language = 'korean'     ; break ;
    default      : language = 'japanese'   ;
  }
  return language;
}

// 髴�､ｮ蝨ｰ蜷阪�螟夊ｨ隱櫁ｾ樊嶌
function loadEpicentreDictionary(){
  var epidic;
	$.ajaxSetup({async: false});
  $.getJSON('../data/dictionary/epi.json', function(json){epidic = json;});
	$.ajaxSetup({async: true});
  return epidic;
}

// 驛ｽ驕灘ｺ懃恁蜷阪�螟夊ｨ隱櫁ｾ樊嶌
function loadPrefectureDictionary(){
  var prefdic;
	$.ajaxSetup({async: false});
  $.getJSON('../data/dictionary/pref.json', function(json){prefdic = json;});
	$.ajaxSetup({async: true});
  return prefdic;
}

// 蟶ら伴譚大錐縺ｮ螟夊ｨ隱櫁ｾ樊嶌
function loadMunicipalityDictionary(){
  var citydic;
	$.ajaxSetup({async: false});
  $.getJSON('../data/dictionary/city.json', function(json){citydic = json;});
	$.ajaxSetup({async: true});
  return citydic;
}

// 豢･豕｢莠亥�ｱ蛹ｺ縺ｮ螟夊ｨ隱櫁ｾ樊嶌
function loadAreaTsunamiDictionary(){
  var tsunamidic;
	$.ajaxSetup({async: false});
  $.getJSON('../data/dictionary/areatsunami.json', function(json){tsunamidic = json;});
	$.ajaxSetup({async: true});
  return tsunamidic;
}

// 豢･豕｢隴ｦ蝣ｱ繝ｻ豕ｨ諢丞�ｱ繝ｻ莠亥�ｱ縺ｮ螟夊ｨ隱櫁ｾ樊嶌
function loadTsunamiWarningDictionary(){
  var tsunamidic;
	$.ajaxSetup({async: false});
  $.getJSON('../data/dictionary/tsunamiwarning.json', function(json){tsunamidic = json;});
	$.ajaxSetup({async: true});
  return tsunamidic;
}

/*
$.ajaxSetup({
  cache: false
});
*/
